<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Inky HQ üåê</title>
    <link rel="stylesheet" href="../index.css" />
    <script src="https://unpkg.com/js-alert/dist/jsalert.min.js"></script>
    <script src="../common/master.js"></script>
    <script src="./js/installer.js"></script>
    <link rel="stylesheet" href="./css/landing.css" />
  </head>
  <body>
    <div class="wrapper">
      <div class="titlebar">
        <img src="../assets/home.png" class="menu-icon" onclick="home()" />
        <img src="../assets/exit.png" class="menu-icon" onclick="cW()" />
      </div>
      <div class="container">
        <div class="text-container">
          <h1 style="font-size: 30px">Announcements and Installations</h1>
          <hr style="width: 50%; margin-left: 0" />
          <div class="news-area">
            <h2>Latest News</h2>
            <ul id="news"></ul>
            <hr style="width: 50%; margin-left: 0" />
            <h2>Installations</h2>
            <div id="progress-container"></div>
            <input
              type="text"
              id="inst"
              name="inst"
              placeholder="Install Code"
            />
          </div>
          <button class="btn fill" onclick="installApp()">Install</button>
          <button
            style="transform: scale(-1vw)"
            class="btn fill"
            onclick="iCode()"
          >
            DSRN-DX24
          </button>
        </div>
      </div>
    </div>
    <script>
      function home() {
        window.location.href = "../index.html";
      }
      function cW() {
        window.close();
      }

      function installApp() {
        var inst = document.getElementById("inst").value;
        installCode(inst);
      }

      function iCode() {
        installCode("DSRN-DX24");
      }

      document.addEventListener("DOMContentLoaded", function () {
        var newsList = document.getElementById("news");
        var newsArray = JSON.parse(sessionStorage.getItem("NEWS")) || [];

        newsArray.forEach(function (newsItem) {
          var li = document.createElement("li");
          li.textContent = newsItem;
          newsList.appendChild(li);
        });
      });
    </script>
  </body>
</html>
