<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Memory Game</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background-color: #1d1d21;
      }
      #memory-board {
        display: grid;
        grid-template-columns: repeat(6, 70px);
        grid-gap: 10px;
        margin-bottom: 20px;
      }
      .card {
        width: 70px;
        height: 70px;
        background-color: #555;
        border: 2px solid #fff;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 48px;
        color: transparent;
        cursor: pointer;
      }
      .card.flipped {
        background-color: #fff;
        color: #000;
      }
      .info {
        text-align: center;
        color: white;
        font-size: 20px;
      }
      #back-button {
        padding: 5px 5px;
        font-size: 12px;
        cursor: pointer;
        background-color: #444;
        color: white;
        border: none;
        border-radius: 5px;
        position: fixed;
        bottom: 5px;
        left: 5px;
      }
    </style>
  </head>
  <body>
    <div id="memory-board"></div>
    <div class="info">
      <p id="status"></p>
    </div>
    <button id="back-button" onclick="window.history.back()">
      &nbsp;â†«&nbsp;
    </button>

    <script>
      const board = document.getElementById("memory-board");
      const statusElement = document.getElementById("status");
      let cardValues = [];
      let firstCard = null;
      let secondCard = null;
      let matchedPairs = 0;

      // Generate the card values (pairs of numbers)
      function generateCardValues() {
        const values = [];
        for (let i = 1; i <= 18; i++) {
          values.push(i, i); // Two of each number (pairs)
        }
        return values.sort(() => Math.random() - 0.5); // Shuffle the values
      }

      // Create the cards
      function createBoard() {
        cardValues = generateCardValues();
        for (let i = 0; i < 36; i++) {
          const card = document.createElement("div");
          card.classList.add("card");
          card.dataset.value = cardValues[i];
          card.textContent = cardValues[i];
          card.addEventListener("click", flipCard);
          board.appendChild(card);
        }
      }

      // Handle card flip
      function flipCard() {
        if (this.classList.contains("flipped") || secondCard) return;

        this.classList.add("flipped");

        if (!firstCard) {
          firstCard = this;
        } else {
          secondCard = this;
          checkForMatch();
        }
      }

      // Check if two flipped cards match
      function checkForMatch() {
        if (firstCard.dataset.value === secondCard.dataset.value) {
          // It's a match
          matchedPairs++;
          resetCards();
          if (matchedPairs === 18) {
            endGame("win");
          }
        } else {
          // Not a match
          setTimeout(() => {
            firstCard.classList.remove("flipped");
            secondCard.classList.remove("flipped");
            resetCards();
          }, 1000);
        }
      }

      // Reset the cards after each pair is checked
      function resetCards() {
        firstCard = null;
        secondCard = null;
      }

      // End the game when all pairs are matched
      function endGame(result) {
        if (result === "win") {
          statusElement.textContent = "You Win! All pairs matched!";
        }
      }

      // Initialize the game board
      createBoard();
    </script>
  </body>
</html>
